(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(16),o=c.n(a),l=(c(22),c(7)),i=c(4),r=c.p+"static/media/logo.6ce24c58.svg",j=(c(23),c(17)),d=c.n(j),u=c(0);var b=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!0),o=Object(i.a)(a,2),j=o[0],b=o[1],p=Object(n.useState)(1),m=Object(i.a)(p,2),O=m[0],g=m[1],h=Object(n.useState)(0),f=Object(i.a)(h,2),x=f[0],v=f[1],E=function(e){console.log("totalCount ",x),e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<222&&c.length<x&&(console.log("scrollHandler"),b(!0))};return Object(n.useEffect)((function(){return console.log("addEventListener "),document.addEventListener("scroll",E),function(){console.log("removeEventListener "),document.removeEventListener("scroll",E)}})),Object(n.useEffect)((function(){j&&d.a.get("https://jsonplaceholder.typicode.com/photos?_limit=10&_page=".concat(O)).then((function(e){g((function(e){return e+1})),s([].concat(Object(l.a)(c),Object(l.a)(e.data))),v(e.headers["x-total-count"])})).finally((function(){b(!1)}))})),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("img",{src:r,className:"App-logo",alt:"logo"}),Object(u.jsxs)("h1",{children:["\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f ",Object(u.jsx)("br",{}),"(\u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446)"]}),Object(u.jsx)("img",{src:r,className:"App-logo",alt:"logo"})]}),Object(u.jsxs)("div",{className:"page-list",children:[Object(u.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446"}),Object(u.jsx)("ul",{children:c.map((function(e){return Object(u.jsxs)("li",{className:"page",children:[Object(u.jsxs)("div",{className:"page-id",children:[e.id," ",e.albumId]}),Object(u.jsx)("div",{className:"page-title",children:e.title}),Object(u.jsx)("img",{src:e.thumbnailUrl,alt:"page icon"})]},e.id+e.title)}))})]})]})};o.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(b,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.93973c9e.chunk.js.map